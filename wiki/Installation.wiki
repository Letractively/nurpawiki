#summary How to install Nurpawiki

= Installation =

== Install Ocsigen & other required packages ==

Get the latest version from http://www.ocsigen.org.  Easiest way to install it to use [http://godi.ocaml-programming.de/ GODI] to install it.  See [OcsigenInstallation here] for some installation notes for Debian/Ubuntu.

It's very likely that all the packages install successfully only on Linux.  I use VMware on Windows and run Nurpawiki in a Linux guest.

== Install Postgresql & create a database ==
 # Install Postgresql with tsearch2.  I do compile from source and run the DB locally under my home directory)
 # Create a database called `nurpawiki` and setup its schema
 # Install OCaml postgresql bindings from GODI

See [DatabaseInstallationDebian Debian DB instructions] for instructions on installing using Debian's packages.

See [DatabaseInstallation DB from source] for installing everything from source (not recommended).

== Get the source ==
Get the source from SVN (see http://code.google.com/p/nurpawiki/source).

== Configure ==
Run configure like so:

{{{
# NOTE: This depends on the way you configured your
#       Postgresql.
# NOTE 2: Make sure the DBPORT is correctly set!  It needs to match your
#       Postgresql configuration variable (in pg_hba.conf)

env DBNAME=nurpawiki DBUSER=postgres DBPORT=5432 ./configure > nurpawiki.conf.local
}}}

The script will complain if some of the dependent libraries are not installed via ocamlfind.

Pipe the output of `configure` to a file and pass it on to Ocsigen when you start the Ocsigen web server.

== Build Nurpawiki ==

Run `make`.

== Start server ==

Run 

{{{
ocsigen -c nurpawiki.conf.local
}}}

== Test it! ==

Point your browser to http://localhost:8080/view?p=WikiStart and login as "admin" (leave the password field empty).