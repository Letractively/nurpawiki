#summary How to install Nurpawiki

= Installation =

NB: Unfortunately these instructions are not fully complete yet.  They describe the overall outline of installation, but may not be complete enough for 100% successful installation.

== Install Ocsigen ==

Get the latest version from http://www.ocsigen.org.  Easiest way to install it to use [http://godi.ocaml-programming.de/ GODI] to install it.

== Install Postgresql & create a database ==
 # Install Postgresql with tsearch2.  I do compile from source and run the DB locally under my home directory)
 # Create a database called `nurpawiki` and setup its schema
 # Install OCaml postgresql bindings from GODI

See [DatabaseInstallation installing the database].

== Get the source ==
Get the source from SVN (see http://code.google.com/p/nurpawiki/source).

== Configure ==
Run configure like so:

{{{
export OCSIGEN_ROOT=/path/to/built/ocsigen 
./configure > nurpawiki.conf.local
}}}

The script will complain if some of the dependent libraries are not installed via ocamlfind.

At the moment, the OCSIGEN_ROOT variable needs to point to a directory with Ocsigen source + built modules.  This will need revising to account for Ocsigen installation done via GODI.

The `configure` script creates a new Ocsigen configuration file that you need to pass to Ocsigen once its server starts up.

== Build Nurpawiki ==

Run `make`.

== Start server ==

Run 

{{{
$OCSIGEN_ROOT/server/ocsigen -c nurpawiki.conf.local
}}}

== Test it! ==

Point your browser to http://localhost:8080/view?p=WikiStart